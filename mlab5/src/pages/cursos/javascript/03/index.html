<!--curso_javascript/03/index.html-->
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="icon" type="image/x-icon" href="/src/assets/images/ml5w3s.ico">
  <title>Aula 03 - Paradigma Orientado a Objetos (ES6 Classes) | ML5Lab</title>

  <!-- SEO  -->
  <meta name="description" content="Aprenda orienta√ß√£o a objetos em JavaScript: prot√≥tipos, classes ES6, encapsulamento e cria√ß√£o de componentes reutiliz√°veis.">
  <meta name="keywords" content="javascript, orienta√ß√£o a objetos, classes es6, prot√≥tipos, encapsulamento, heran√ßa, componentes">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://ml5w3s.com.br/">
  <meta http-equiv="content-language" content="pt-BR">

  <!-- OG -->
  <meta property="og:title" content="Aula 03 - JavaScript OO: Classes ES6 e Prot√≥tipos | ML5Lab">
  <meta property="og:description" content="Aprenda orienta√ß√£o a objetos em JavaScript: prot√≥tipos, classes ES6, encapsulamento e cria√ß√£o de componentes reutiliz√°veis.">
  <meta property="og:image" content="http://ml5w3s.com.br/images/banner_barramento.png">
  <meta property="og:url" content="http://ml5w3s.com.br">
  <meta property="og:type" content="website">

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="/src/assets/css/base.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <style>#exercicios, #controles{display:none;}</style>
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Aula 03 - JavaScript OO: Classes ES6 e Prot√≥tipos | ML5Lab">
  <meta name="twitter:description" content="Aprenda orienta√ß√£o a objetos em JavaScript: prot√≥tipos, classes ES6, encapsulamento e cria√ß√£o de componentes reutiliz√°veis.">
  <meta name="twitter:image" content="http://ml5w3s.com.br/images/banner_barramento.png">
</head>

<body>

<!-- COMPONENTES -->
<div id="header-placeholder"></div>
<main id="aulas">

<!-- ARTIGOS -->
<section class="container">
<article class="item">
  <picture>
    <source media="(min-width: 1024px)" srcset="/src/assets/images/banner_frontend_desktop.png">
    <source media="(min-width: 600px)" srcset="/src/assets/images/banner_frontend_tablet.png">
    <img src="/src/assets/images/banner_frontend_mobile.png">
  </picture>
  <h3>üèóÔ∏è JavaScript OO - Classes ES6 e Prot√≥tipos</h3>
</article>
</section>

<section class="container">
<!--INSTRU√á√ïES-->
<article class="item">
  <h3>Orienta√ß√£o a Objetos em JavaScript</h3>
  <p>JavaScript √© uma linguagem baseada em prot√≥tipos, mas o ES6 introduziu a sintaxe de classes que facilita a programa√ß√£o orientada a objetos. Entender ambos os conceitos √© fundamental para criar c√≥digo modular e reutiliz√°vel.</p>
  <h4>Conceitos Fundamentais:</h4>
  <ul class="left_list">
    <li><strong>Prot√≥tipos:</strong> Base da heran√ßa em JavaScript</li>
    <li><strong>Classes ES6:</strong> Sintaxe moderna para OO</li>
    <li><strong>Encapsulamento:</strong> Controle de acesso a propriedades</li>
    <li><strong>Heran√ßa:</strong> Reutiliza√ß√£o de c√≥digo</li>
    <li><strong>Polimorfismo:</strong> M√∫ltiplas formas de um mesmo m√©todo</li>
  </ul>
</article>

<article class="item">
  <picture>
    <source media="(min-width: 1024px)" srcset="/src/pages/cursos/javascript/03/images/oo_javascript_desktop.png">
    <source media="(min-width: 600px)" srcset="/src/pages/cursos/javascript/03/images/oo_javascript_tablet.png">
    <img src="/src/pages/cursos/javascript/03/images/oo_javascript_mobile.png">
  </picture>
</article>
</section>

<section class="container">
<article class="item">
  <h3>Prot√≥tipos e Heran√ßa</h3>
  <p>Em JavaScript, todos os objetos t√™m um prot√≥tipo interno que permite heran√ßa de propriedades e m√©todos. Esta √© a base fundamental da orienta√ß√£o a objetos na linguagem.</p>
  <h4>Caracter√≠sticas dos Prot√≥tipos:</h4>
  <ul class="left_list">
    <li>Cadeia de prot√≥tipos (prototype chain)</li>
    <li>Heran√ßa din√¢mica</li>
    <li>Compartilhamento de m√©todos</li>
    <li>Acesso via <code>__proto__</code> ou <code>Object.getPrototypeOf()</code></li>
  </ul>
</article>

<article class="item">
  <h4>Exemplos de Prot√≥tipos:</h4>
  <pre><code>// ‚úÖ Criando objetos com prot√≥tipos
function Animal(nome, especie) {
  this.nome = nome;
  this.especie = especie;
}

// Adicionando m√©todos ao prot√≥tipo
Animal.prototype.falar = function() {
  return `${this.nome} faz um som`;
};

Animal.prototype.apresentar = function() {
  return `Ol√°, sou ${this.nome}, um ${this.especie}`;
};

// ‚úÖ Heran√ßa via prot√≥tipos
function Cachorro(nome, raca) {
  Animal.call(this, nome, 'cachorro');
  this.raca = raca;
}

// Estabelecendo a cadeia de prot√≥tipos
Cachorro.prototype = Object.create(Animal.prototype);
Cachorro.prototype.constructor = Cachorro;

// Sobrescrever m√©todo do prot√≥tipo pai
Cachorro.prototype.falar = function() {
  return `${this.nome} faz au au!`;
};

// Adicionar m√©todo espec√≠fico
Cachorro.prototype.latir = function() {
  return `${this.nome} est√° latindo!`;
};

// ‚úÖ Uso dos objetos
const rex = new Cachorro('Rex', 'Pastor Alem√£o');
console.log(rex.apresentar()); // "Ol√°, sou Rex, um cachorro"
console.log(rex.falar()); // "Rex faz au au!"
console.log(rex.latir()); // "Rex est√° latindo!"

// ‚úÖ Verificar heran√ßa
console.log(rex instanceof Cachorro); // true
console.log(rex instanceof Animal); // true

// ‚úÖ Acessar prot√≥tipo
console.log(Object.getPrototypeOf(rex)); // Cachorro.prototype
console.log(rex.__proto__ === Cachorro.prototype); // true</code></pre>
</article>
</section>

<section class="container">
<article class="item">
  <h3>Classes ES6 - Sintaxe Moderna</h3>
  <p>As classes ES6 fornecem uma sintaxe mais limpa e familiar para criar objetos e implementar heran√ßa, mas ainda s√£o baseadas em prot√≥tipos por baixo dos panos.</p>
  <h4>Caracter√≠sticas das Classes:</h4>
  <ul class="left_list">
    <li>Sintaxe declarativa e limpa</li>
    <li>M√©todo <code>constructor</code> para inicializa√ß√£o</li>
    <li>M√©todos de inst√¢ncia e est√°ticos</li>
    <li>Heran√ßa com <code>extends</code></li>
    <li>Super para acessar classe pai</li>
  </ul>
</article>

<article class="item">
  <h4>Exemplos de Classes ES6:</h4>
  <pre><code>// ‚úÖ Classe base
class Animal {
  constructor(nome, especie) {
    this.nome = nome;
    this.especie = especie;
    this._idade = 0; // Propriedade "privada" (conven√ß√£o)
  }

  // M√©todo de inst√¢ncia
  falar() {
    return `${this.nome} faz um som`;
  }

  apresentar() {
    return `Ol√°, sou ${this.nome}, um ${this.especie}`;
  }

  // Getter
  get idade() {
    return this._idade;
  }

  // Setter
  set idade(valor) {
    if (valor >= 0) {
      this._idade = valor;
    }
  }

  // M√©todo est√°tico
  static comparar(animal1, animal2) {
    return animal1.idade - animal2.idade;
  }

  // M√©todo privado (ES2022)
  #calcularAnoNascimento() {
    return new Date().getFullYear() - this._idade;
  }

  // M√©todo p√∫blico que usa m√©todo privado
  getAnoNascimento() {
    return this.#calcularAnoNascimento();
  }
}

// ‚úÖ Heran√ßa com extends
class Cachorro extends Animal {
  constructor(nome, raca) {
    super(nome, 'cachorro'); // Chama constructor da classe pai
    this.raca = raca;
  }

  // Sobrescrever m√©todo da classe pai
  falar() {
    return `${this.nome} faz au au!`;
  }

  // M√©todo espec√≠fico da classe filha
  latir() {
    return `${this.nome} est√° latindo!`;
  }

  // M√©todo que chama m√©todo da classe pai
  apresentarCompleto() {
    return `${this.apresentar()} da ra√ßa ${this.raca}`;
  }
}

// ‚úÖ Uso das classes
const rex = new Cachorro('Rex', 'Pastor Alem√£o');
rex.idade = 5;

console.log(rex.apresentarCompleto()); // "Ol√°, sou Rex, um cachorro da ra√ßa Pastor Alem√£o"
console.log(rex.falar()); // "Rex faz au au!"
console.log(rex.idade); // 5
console.log(rex.getAnoNascimento()); // Ano atual - 5

// ‚úÖ M√©todo est√°tico
const animais = [
  new Animal('Bichinho1', 'gato'),
  new Animal('Bichinho2', 'cachorro')
];
animais[0].idade = 3;
animais[1].idade = 7;

console.log(Animal.comparar(animais[0], animais[1])); // -4</code></pre>
</article>
</section>

<section class="container">
<article class="item">
  <h3>Encapsulamento e Abstra√ß√£o</h3>
  <p>O encapsulamento controla o acesso √†s propriedades e m√©todos de uma classe, enquanto a abstra√ß√£o simplifica a interface, escondendo detalhes de implementa√ß√£o.</p>
  <h4>N√≠veis de Encapsulamento:</h4>
  <ul class="left_list">
    <li><strong>P√∫blico:</strong> Acess√≠vel de qualquer lugar</li>
    <li><strong>Privado:</strong> Apenas dentro da classe (ES2022)</li>
    <li><strong>Protegido:</strong> Classe e subclasses (conven√ß√£o)</li>
    <li><strong>Readonly:</strong> Apenas leitura</li>
  </ul>
</article>

<article class="item">
  <h4>Exemplos de Encapsulamento:</h4>
  <pre><code>// ‚úÖ Encapsulamento com conven√ß√µes e ES2022
class ContaBancaria {
  // Propriedades p√∫blicas
  titular;
  banco;

  // Propriedades "privadas" (conven√ß√£o)
  _saldo = 0;
  _senha;

  // Propriedades privadas reais (ES2022)
  #historico = [];
  #limite = 1000;

  constructor(titular, banco, senha) {
    this.titular = titular;
    this.banco = banco;
    this._senha = senha;
    this.#adicionarTransacao('Conta criada', 0);
  }

  // M√©todos p√∫blicos
  depositar(valor, senha) {
    if (!this.#validarSenha(senha)) {
      throw new Error('Senha incorreta');
    }
    
    if (valor > 0) {
      this._saldo += valor;
      this.#adicionarTransacao('Dep√≥sito', valor);
      return true;
    }
    return false;
  }

  sacar(valor, senha) {
    if (!this.#validarSenha(senha)) {
      throw new Error('Senha incorreta');
    }

    if (valor > 0 && this._saldo + this.#limite >= valor) {
      this._saldo -= valor;
      this.#adicionarTransacao('Saque', -valor);
      return true;
    }
    return false;
  }

  // Getters p√∫blicos
  get saldo() {
    return this._saldo;
  }

  get extrato() {
    return [...this.#historico]; // C√≥pia do hist√≥rico
  }

  // M√©todos privados
  #validarSenha(senha) {
    return this._senha === senha;
  }

  #adicionarTransacao(tipo, valor) {
    this.#historico.push({
      data: new Date(),
      tipo,
      valor,
      saldo: this._saldo
    });
  }

  // M√©todo protegido (conven√ß√£o)
  _calcularJuros(taxa) {
    return this._saldo * (taxa / 100);
  }
}

// ‚úÖ Heran√ßa com encapsulamento
class ContaCorrente extends ContaBancaria {
  constructor(titular, banco, senha, limiteChequeEspecial = 500) {
    super(titular, banco, senha);
    this._limiteChequeEspecial = limiteChequeEspecial;
  }

  // Sobrescrever m√©todo usando m√©todo protegido
  calcularJurosMensal() {
    const taxa = 1.5; // 1.5% ao m√™s
    return this._calcularJuros(taxa);
  }

  // M√©todo espec√≠fico
  usarChequeEspecial(valor, senha) {
    if (!this.#validarSenha(senha)) {
      throw new Error('Senha incorreta');
    }

    if (valor <= this._limiteChequeEspecial) {
      return this.sacar(valor, senha);
    }
    return false;
  }
}

// ‚úÖ Uso da classe
const conta = new ContaCorrente('Jo√£o Silva', 'Banco ABC', '1234');

console.log(conta.saldo); // 0
conta.depositar(1000, '1234');
console.log(conta.saldo); // 1000

conta.sacar(500, '1234');
console.log(conta.saldo); // 500

console.log(conta.extrato); // Array com hist√≥rico
console.log(conta.calcularJurosMensal()); // 7.5 (1.5% de 500)

// ‚ùå Tentativa de acesso a propriedade privada
// console.log(conta.#historico); // SyntaxError</code></pre>

  <picture>
    <source media="(min-width: 1024px)" srcset="/src/pages/cursos/javascript/03/images/encapsulamento_desktop.png">
    <source media="(min-width: 600px)" srcset="/src/pages/cursos/javascript/03/images/encapsulamento_tablet.png">
    <img src="/src/pages/cursos/javascript/03/images/encapsulamento_mobile.png">
  </picture>
</article>
</section>

<section class="container">
<article class="item">
  <h3>Composi√ß√£o vs Heran√ßa</h3>
  <p>Em JavaScript, a composi√ß√£o muitas vezes √© prefer√≠vel √† heran√ßa, oferecendo maior flexibilidade e evitando problemas da heran√ßa profunda.</p>
  <h4>Vantagens da Composi√ß√£o:</h4>
  <ul class="left_list">
    <li>Maior flexibilidade</li>
    <li>Evita hierarquias complexas</li>
    <li>Reutiliza√ß√£o granular</li>
    <li>Princ√≠pio "favor composi√ß√£o sobre heran√ßa"</li>
  </ul>
</article>

<article class="item">
  <h4>Exemplos de Composi√ß√£o:</h4>
  <pre><code>// ‚úÖ Composi√ß√£o com mixins
const EventEmitter = {
  on(event, callback) {
    if (!this.events) this.events = {};
    if (!this.events[event]) this.events[event] = [];
    this.events[event].push(callback);
  },

  emit(event, data) {
    if (!this.events || !this.events[event]) return;
    this.events[event].forEach(callback => callback(data));
  },

  off(event, callback) {
    if (!this.events || !this.events[event]) return;
    this.events[event] = this.events[event].filter(cb => cb !== callback);
  }
};

const Loggable = {
  log(message) {
    console.log(`[${new Date().toISOString()}] ${message}`);
  },

  error(message) {
    console.error(`[${new Date().toISOString()}] ERROR: ${message}`);
  }
};

// ‚úÖ Classe que usa composi√ß√£o
class Timer {
  constructor(nome) {
    this.nome = nome;
    this.intervalId = null;
    this.tempo = 0;
  }

  // Misturar funcionalidades
  iniciar() {
    this.intervalId = setInterval(() => {
      this.tempo++;
      this.emit('tick', { tempo: this.tempo, nome: this.nome });
    }, 1000);
  }

  parar() {
    if (this.intervalId) {
      clearInterval(this.intervalId);
      this.intervalId = null;
    }
  }

  reset() {
    this.tempo = 0;
  }
}

// ‚úÖ Aplicar mixins
Object.assign(Timer.prototype, EventEmitter, Loggable);

// ‚úÖ Uso do timer com composi√ß√£o
const timer = new Timer('Cron√¥metro');
timer.on('tick', (data) => {
  timer.log(`Timer ${data.nome}: ${data.tempo}s`);
});

timer.iniciar();

// ‚úÖ Composi√ß√£o com objetos
class CarrinhoCompras {
  constructor() {
    this.produtos = [];
    this.calculadora = new CalculadoraDesconto();
    this.validador = new ValidadorProduto();
    this.notificador = new NotificadorEmail();
  }

  adicionarProduto(produto) {
    if (this.validador.validar(produto)) {
      this.produtos.push(produto);
      this.notificador.enviar('Produto adicionado', produto);
      return true;
    }
    return false;
  }

  calcularTotal() {
    const subtotal = this.produtos.reduce((total, p) => total + p.preco, 0);
    const desconto = this.calculadora.calcularDesconto(this.produtos);
    return subtotal - desconto;
  }
}

// ‚úÖ Classes auxiliares para composi√ß√£o
class CalculadoraDesconto {
  calcularDesconto(produtos) {
    const total = produtos.reduce((sum, p) => sum + p.preco, 0);
    if (total > 1000) return total * 0.1; // 10% de desconto
    if (total > 500) return total * 0.05; // 5% de desconto
    return 0;
  }
}

class ValidadorProduto {
  validar(produto) {
    return produto.nome && produto.preco > 0;
  }
}

class NotificadorEmail {
  enviar(assunto, dados) {
    console.log(`Email: ${assunto}`, dados);
  }
}</code></pre>
</article>
</section>

<section class="container">
<article class="item">
  <h3>Pr√°tica: Criar Componente Reutiliz√°vel</h3>
  <p>Vamos criar um componente de card interativo reutiliz√°vel usando classes ES6, demonstrando encapsulamento, heran√ßa e composi√ß√£o na pr√°tica.</p>
  <h4>Objetivos da Pr√°tica:</h4>
  <ul class="left_list">
    <li>Criar classe base para componente</li>
    <li>Implementar encapsulamento adequado</li>
    <li>Usar heran√ßa para especializa√ß√£o</li>
    <li>Aplicar composi√ß√£o para funcionalidades</li>
    <li>Integrar com DOM de forma limpa</li>
  </ul>
</article>

<article class="item">
  <h4>Componente Card Interativo:</h4>
  <pre><code>// ‚úÖ Classe base para componentes
class Component {
  constructor(element, options = {}) {
    this.element = element;
    this.options = { ...this.defaultOptions, ...options };
    this.state = {};
    this.eventHandlers = new Map();
    this.init();
  }

  get defaultOptions() {
    return {
      animationDuration: 300,
      theme: 'default'
    };
  }

  init() {
    this.render();
    this.bindEvents();
  }

  render() {
    // M√©todo abstrato - deve ser implementado pelas classes filhas
    throw new Error('M√©todo render deve ser implementado');
  }

  bindEvents() {
    // M√©todo abstrato - deve ser implementado pelas classes filhas
  }

  addEventListener(event, handler) {
    this.eventHandlers.set(event, handler);
    this.element.addEventListener(event, handler);
  }

  removeEventListener(event) {
    const handler = this.eventHandlers.get(event);
    if (handler) {
      this.element.removeEventListener(event, handler);
      this.eventHandlers.delete(event);
    }
  }

  destroy() {
    // Remove todos os event listeners
    for (const [event] of this.eventHandlers) {
      this.removeEventListener(event);
    }
    this.element.remove();
  }

  // M√©todos utilit√°rios
  show() {
    this.element.style.display = 'block';
  }

  hide() {
    this.element.style.display = 'none';
  }

  toggle() {
    if (this.element.style.display === 'none') {
      this.show();
    } else {
      this.hide();
    }
  }
}

// ‚úÖ Classe para Card de Produto
class ProductCard extends Component {
  constructor(element, produto) {
    super(element);
    this.produto = produto;
  }

  render() {
    this.element.innerHTML = `
      <div class="product-card" data-product-id="${this.produto.id}">
        <div class="product-image">
          <img src="${this.produto.imagem}" alt="${this.produto.nome}">
          <div class="product-overlay">
            <button class="btn-favorite" data-action="favorite">
              <span class="heart">‚ô°</span>
            </button>
          </div>
        </div>
        <div class="product-info">
          <h3 class="product-name">${this.produto.nome}</h3>
          <p class="product-description">${this.produto.descricao}</p>
          <div class="product-price">
            <span class="current-price">R$ ${this.produto.preco.toFixed(2)}</span>
            ${this.produto.precoOriginal ? 
              `<span class="original-price">R$ ${this.produto.precoOriginal.toFixed(2)}</span>` : 
              ''
            }
          </div>
          <div class="product-actions">
            <button class="btn-add-cart" data-action="add-cart">
              Adicionar ao Carrinho
            </button>
            <button class="btn-view-details" data-action="view-details">
              Ver Detalhes
            </button>
          </div>
        </div>
      </div>
    `;

    // Aplicar tema
    this.element.classList.add(`theme-${this.options.theme}`);
  }

  bindEvents() {
    // Event delegation para bot√µes
    this.element.addEventListener('click', (e) => {
      const action = e.target.dataset.action;
      
      switch (action) {
        case 'favorite':
          this.toggleFavorite();
          break;
        case 'add-cart':
          this.addToCart();
          break;
        case 'view-details':
          this.viewDetails();
          break;
      }
    });

    // Hover effects
    this.element.addEventListener('mouseenter', () => {
      this.element.classList.add('hover');
    });

    this.element.addEventListener('mouseleave', () => {
      this.element.classList.remove('hover');
    });
  }

  toggleFavorite() {
    const heart = this.element.querySelector('.heart');
    const isFavorite = heart.classList.contains('favorite');
    
    heart.classList.toggle('favorite');
    heart.textContent = isFavorite ? '‚ô°' : '‚ô•';
    
    this.emit('favorite-toggle', {
      produto: this.produto,
      isFavorite: !isFavorite
    });
  }

  addToCart() {
    this.emit('add-to-cart', { produto: this.produto });
    
    // Feedback visual
    const button = this.element.querySelector('.btn-add-cart');
    const originalText = button.textContent;
    button.textContent = 'Adicionado!';
    button.disabled = true;
    
    setTimeout(() => {
      button.textContent = originalText;
      button.disabled = false;
    }, 2000);
  }

  viewDetails() {
    this.emit('view-details', { produto: this.produto });
  }

  // M√©todos espec√≠ficos do produto
  updatePrice(novoPreco) {
    this.produto.preco = novoPreco;
    this.element.querySelector('.current-price').textContent = 
      `R$ ${novoPreco.toFixed(2)}`;
  }

  setOutOfStock() {
    this.element.classList.add('out-of-stock');
    const addButton = this.element.querySelector('.btn-add-cart');
    addButton.textContent = 'Indispon√≠vel';
    addButton.disabled = true;
  }
}

// ‚úÖ Classe para Card de Usu√°rio (heran√ßa)
class UserCard extends Component {
  constructor(element, usuario) {
    super(element);
    this.usuario = usuario;
  }

  render() {
    this.element.innerHTML = `
      <div class="user-card" data-user-id="${this.usuario.id}">
        <div class="user-avatar">
          <img src="${this.usuario.avatar}" alt="${this.usuario.nome}">
          <div class="user-status ${this.usuario.online ? 'online' : 'offline'}"></div>
        </div>
        <div class="user-info">
          <h3 class="user-name">${this.usuario.nome}</h3>
          <p class="user-role">${this.usuario.cargo}</p>
          <p class="user-email">${this.usuario.email}</p>
        </div>
        <div class="user-actions">
          <button class="btn-message" data-action="message">Mensagem</button>
          <button class="btn-profile" data-action="profile">Perfil</button>
        </div>
      </div>
    `;
  }

  bindEvents() {
    this.element.addEventListener('click', (e) => {
      const action = e.target.dataset.action;
      
      switch (action) {
        case 'message':
          this.sendMessage();
          break;
        case 'profile':
          this.viewProfile();
          break;
      }
    });
  }

  sendMessage() {
    this.emit('send-message', { usuario: this.usuario });
  }

  viewProfile() {
    this.emit('view-profile', { usuario: this.usuario });
  }

  updateStatus(online) {
    this.usuario.online = online;
    const status = this.element.querySelector('.user-status');
    status.className = `user-status ${online ? 'online' : 'offline'}`;
  }
}

// ‚úÖ Uso dos componentes
const produtos = [
  {
    id: 1,
    nome: 'Smartphone XYZ',
    descricao: 'Smartphone com tela de 6.5"',
    preco: 899.99,
    precoOriginal: 999.99,
    imagem: '/images/smartphone.jpg'
  },
  {
    id: 2,
    nome: 'Notebook ABC',
    descricao: 'Notebook para trabalho e estudos',
    preco: 2499.99,
    imagem: '/images/notebook.jpg'
  }
];

// Criar cards de produtos
produtos.forEach(produto => {
  const container = document.createElement('div');
  document.getElementById('produtos-container').appendChild(container);
  
  const card = new ProductCard(container, produto);
  
  // Event listeners
  card.addEventListener('favorite-toggle', (e) => {
    console.log('Produto favoritado:', e.detail);
  });
  
  card.addEventListener('add-to-cart', (e) => {
    console.log('Produto adicionado ao carrinho:', e.detail);
  });
});</code></pre>

  <picture>
    <source media="(min-width: 1024px)" srcset="/src/pages/cursos/javascript/03/images/componente_reutilizavel_desktop.png">
    <source media="(min-width: 600px)" srcset="/src/pages/cursos/javascript/03/images/componente_reutilizavel_tablet.png">
    <img src="/src/pages/cursos/javascript/03/images/componente_reutilizavel_mobile.png">
  </picture>
</article>
</section>

<span id="exercicio">
<p>Crie um sistema de componentes reutiliz√°veis usando classes ES6:<p>
  <ul>
  <li>T√≠tulo = Sistema de Componentes com Classes ES6<br></li>
  <li>Classe base Component com m√©todos abstratos<br></li>
  <li>Implemente encapsulamento com propriedades privadas<br></li>
  <li>Crie heran√ßa para componentes especializados<br></li>
  <li>Use composi√ß√£o para funcionalidades extras<br></li>
  <li>Implemente sistema de eventos customizados<br></li>
  <li>Crie componentes para Modal, Accordion e Tabs<br></li>
</ul>
</p>Cada componente deve ser independente, reutiliz√°vel e integrar-se com o DOM de forma limpa.</p>
</span>

  <form id="controles">
    <fieldset>
      <legend>Controles</legend>
    <h4>Escolha um template</h4>
    <select id="templateSelect">
      <option value="/vitrine-ml5/mlab5/templates/classico.html">Classico</option>
      <option value="/vitrine-ml5/mlab5/templates/moderno.html">Moderno</option>
      <option value="/vitrine-ml5/mlab5/templates/dark_mode.html">Dark Mode3</option>
    </select>

    <h4>Personalize</h4>
    <label>Cor de fundo: <input type="color" id="bgColor" value="#ffffff"></label><br>
    <label>Cor do texto: <input type="color" id="textColor" value="#000000"></label><br><br>

    <label>Fonte:
      <select id="fontFamily">
        <option value="Arial, sans-serif">Arial</option>
        <option value="Georgia, serif">Georgia</option>
        <option value="'Courier New', monospace">Courier New</option>
      </select><br>
    </label><br><br>
    </fieldset><br>
    <button onclick="salvarCustomizacao()">Salvar e Visualizar</button>
  </form>

<section class="container">
<article class="item">
    <a href="/src/pages/playground" id="download-button" class="btn-large waves-effect waves-light teal lighten-1" >Playground</a>
</article>
</section>

</main>

<div id="footer-placeholder"></div>

<script>
  async function loadComponent(placeholderId, url) {
    try {
      const response = await fetch(url);
      if (!response.ok) throw new Error(`Erro ao carregar ${url}`);
      const html = await response.text();
      document.getElementById(placeholderId).innerHTML = html;
    } catch (error) {
      console.error(error);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadComponent('header-placeholder', '/src/assets/js/ui/components/header.html')
      .then(() => {
        const script = document.createElement('script');
        script.src = '/src/assets/js/ui/components/navbar.js';
        document.body.appendChild(script);
      })
      .catch(error => {
        console.error("Erro ao carregar o header:", error);
      });

    loadComponent('footer-placeholder', '/src/assets/js/ui/components/footer.html');
  });

  document.addEventListener('DOMContentLoaded', () => {
    const exercicio = document.getElementById('exercicio')?.innerText || "";
    const playgroundLink = document.querySelector('a[href="/src/pages/playground"]'); 

    if (playgroundLink) {
      playgroundLink.addEventListener('click', (event) => {
        event.preventDefault();

        // Salva o texto das instru√ß√µes
        localStorage.setItem('instrucoes', exercicio);

        // Salva o HTML do formul√°rio inteiro
        const controles = document.getElementById('controles');
        localStorage.setItem('ajustes', controles.outerHTML);

        // Redireciona para o playground
        window.location.href = playgroundLink.href;
      });
    }
  });
</script>

</body>
</html>
