<!DOCTYPE html>
<html lang="pt-BR">
<head>
 <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="icon" type="image/x-icon" href="/src/assets/images/ml5w3s.ico">

  <title>Cursos de Tecnologia e Projetos e Vagas de Emprego | ML5Lab</title>

  <!-- SEO  -->
  <meta name="description" content="Cursos e treinamentos online em tecnologia, projetos práticos e vagas de emprego atualizadas para impulsionar sua carreira.">
  <meta name="keywords" content="cursos online, treinamentos tecnologia, vagas de emprego, projetos práticos, programação, Experiência profissional, desenvolvimento web">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://ml5w3s.com.br">
  <meta http-equiv="content-language" content="pt-BR">

  <!-- OG -->
  <meta property="og:title" content="Cursos e Treinamentos em Tecnologia | [Nome do Site]">
  <meta property="og:description" content="Aprenda com cursos práticos, participe de projetos e encontre vagas de emprego na área de tecnologia.">
  <meta property="og:image" content="http://ml5w3s.com.br/images/banner_barramento.png">
  <meta property="og:url" content="http://ml5w3s.com.br">
  <meta property="og:type" content="website">

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="/src/assets/css/base.css" type="text/css" rel="stylesheet" media="screen,projection"/>

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Cursos Online e Vagas de Emprego | [ML5Lab]">
  <meta name="twitter:description" content="Cursos práticos, projetos reais e vagas de emprego em tecnologia. Comece agora!">
  <meta name="twitter:image" content="http://ml5w3s.com.br/images/banner_barramento.png">

</head>
<body>

<!-- CABEÇALHO -->
<div id="header-placeholder"></div>

<!-- ARTIGOS -->
<section class="container">
  <!--BANNER-->
  <article class="item">
    <picture>
      <source media="(min-width: 1024px)" srcset="/src/assets/images/banner_controle_desktop.png">
      <source media="(min-width: 600px)" srcset="/src/assets/images/banner_controle_desktop.png">
      <img src="/src/assets/images/banner_controle_desktop.png">
    </picture>
    <h1>Gerador de Aulas (.JSON)</h1>
  </article>
</section>

<section class="content-section">
  <article class="item-article">
    <form id="form-aula">
      <h2>Nova Aula</h2>
      <label>Nome da Aula: <input type="text" id="aula-nome" required></label><br>
      <fieldset>
        <legend>Imagem do Banner (Opcional)</legend>
        <label>URL Desktop: <input type="url" id="banner-desktop"></label><br>
        <label>URL Tablet: <input type="url" id="banner-tablet"></label><br>
        <label>URL Mobile: <input type="url" id="banner-mobile"></label><br>
        <label>Texto Alternativo: <input type="text" id="banner-alt"></label><br>
      </fieldset>
      <button type="button" onclick="criarAula()">Criar Aula e Add Artigos</button>
    </form>

    <form id="form-artigo" style="display:none;">
      <h2>Novo Artigo</h2>
      <label>Título: <input type="text" id="titulo"></label><br>
      <label>Subtítulo: <input type="text" id="subtitulo"></label><br>
      <label>Texto: <textarea id="texto"></textarea></label><br>
      <label>Lista (um item por linha): <textarea id="lista"></textarea></label><br>
      <label>Código: <textarea id="codigo"></textarea></label><br>
      <label>Imagem (URL): <input type="url" id="imagem"></label><br>

      <button type="button" onclick="adicionarArtigo()">Adicionar Artigo</button>
      <button type="button" onclick="finalizarAula()">Finalizar e Baixar JSON</button>
    </form>
  </article>
</section>

<section class="content-section">
  <article class="item-article">
    <h2>Pré-visualização do JSON</h2>
    <div id="saida">{}</div>
  </article>
</section>

<!-- RODAPÉ  -->
<div id="footer-placeholder"></div>

<!-- SCRIPTS -->
<script src="/src/assets/js/main.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    loadComponent('header-placeholder', '/src/assets/js/ui/components/header.html');
    loadComponent('footer-placeholder', '/src/assets/js/ui/components/footer.html');
  });

  let aula = null;

  function criarAula() {
    const nome = getValue("aula-nome");
    if (!nome) {
      alert("O nome da aula é obrigatório!");
      return;
    }

    aula = {
      name: nome,
      image: {
        desktop: getValue("banner-desktop"),
        tablet: getValue("banner-tablet"),
        mobile: getValue("banner-mobile"),
        alt: getValue("banner-alt")
      },
      articles: []
    };

    // Hide lesson form and show article form
    document.getElementById("form-aula").style.display = "none";
    document.getElementById("form-artigo").style.display = "block";
    atualizarSaida();
  }

  function adicionarArtigo() {
    if (!aula) return alert("Crie uma aula primeiro!");

    const artigo = {
      titulo: getValue("titulo"),
      subtitulo: getValue("subtitulo"),
      texto: getValue("texto"),
      lista: getLista("lista"),
      codigo: getValue("codigo"),
      imagem: getValue("imagem")
    };

    // Remove null properties from the article
    for (const key in artigo) {
      if (artigo[key] === null) {
        delete artigo[key];
      }
    }

    aula.articles.push(artigo);
    limparFormularioArtigo();
    atualizarSaida();
  }

  function finalizarAula() {
    if (!aula) return alert("Nenhuma aula criada!");

    const blob = new Blob([JSON.stringify(aula, null, 2)], {type: "application/json"});
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = aula.name.replace(/\s+/g, "_") + ".json";
    link.click();
    
    // Reset for next lesson
    aula = null;
    document.getElementById("form-aula").style.display = "block";
    document.getElementById("form-artigo").style.display = "none";
    document.getElementById("form-aula").reset();
    atualizarSaida();
  }

  function getValue(id) {
    const val = document.getElementById(id).value.trim();
    return val === "" ? null : val;
  }

  function getLista(id) {
    const val = document.getElementById(id).value.trim();
    if (val === "") return null;
    return val.split("\n").map(item => item.trim()).filter(i => i.length > 0);
  }

  function limparFormularioArtigo() {
    document.querySelectorAll("#form-artigo input, #form-artigo textarea")
      .forEach(el => el.value = "");
  }

  function atualizarSaida() {
    document.getElementById("saida").textContent = JSON.stringify(aula, null, 2);
  }
</script>
</body>
</html>
  