<!--curso_xml/07/index.html-->
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="icon" type="image/x-icon" href="/vitrine-ml5/mlab5/images/ml5w3s.ico">
  <title>Aula 07 - XSLT e Transforma√ß√£o de Dados Governamentais | ML5Lab</title>

  <!-- SEO  -->
  <meta name="description" content="Aprenda sobre XSLT para transforma√ß√£o de dados XML governamentais no Brasil. Transforma√ß√µes de NFe, eSocial, SPED e outros documentos oficiais.">
  <meta name="keywords" content="xslt, transforma√ß√£o xml, dados governamentais, nfe, esocial, sped, transforma√ß√£o documentos, xsl">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://ml5w3s.com.br/">
  <meta http-equiv="content-language" content="pt-BR">

  <!-- OG -->
  <meta property="og:title" content="Aula 07 - XSLT e Transforma√ß√£o de Dados Governamentais | ML5Lab">
  <meta property="og:description" content="Aprenda sobre XSLT para transforma√ß√£o de dados XML governamentais no Brasil. Transforma√ß√µes de documentos oficiais.">
  <meta property="og:image" content="http://ml5w3s.com.br/images/banner_barramento.png">
  <meta property="og:url" content="http://ml5w3s.com.br">
  <meta property="og:type" content="website">

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="/vitrine-ml5/mlab5/css/base.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <style>#exercicios, #controles{display:none;}</style>
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Aula 07 - XSLT e Transforma√ß√£o de Dados Governamentais | ML5Lab">
  <meta name="twitter:description" content="Aprenda sobre XSLT para transforma√ß√£o de dados XML governamentais no Brasil. Transforma√ß√µes de documentos oficiais.">
  <meta name="twitter:image" content="http://ml5w3s.com.br/images/banner_barramento.png">
</head>

<body>

<!-- COMPONENTES -->
<div id="header-placeholder"></div>
<main id="aulas">

<!-- ARTIGOS -->
<section class="container">
<article class="item">
  <picture>
    <source media="(min-width: 1024px)" srcset="/vitrine-ml5/mlab5/images/banner_frontend_desktop.png">
    <source media="(min-width: 600px)" srcset="/vitrine-ml5/mlab5/images/banner_frontend_tablet.png">
    <img src="/vitrine-ml5/mlab5/images/banner_frontend_mobile.png">
  </picture>
  <h3>üîÑ XSLT - Transforma√ß√£o de Dados Governamentais</h3>
</article>
</section>

<section class="container">
<!--INSTRU√á√ïES-->
<article class="item">
  <h3>XSLT no Contexto Governamental Brasileiro</h3>
  <p>O XSLT (eXtensible Stylesheet Language Transformations) √© fundamental para transformar dados XML governamentais em diferentes formatos, facilitando a visualiza√ß√£o, integra√ß√£o e processamento de documentos oficiais no Brasil.</p>
  <h4>Aplica√ß√µes do XSLT:</h4>
  <ul class="left_list">
    <li>Transforma√ß√£o de NFe para HTML</li>
    <li>Convers√£o de dados eSocial</li>
    <li>Gera√ß√£o de relat√≥rios SPED</li>
    <li>Transforma√ß√£o de TISS para PDF</li>
    <li>Integra√ß√£o entre sistemas</li>
    <li>Visualiza√ß√£o de documentos</li>
  </ul>
</article>

<article class="item">
  <picture>
    <source media="(min-width: 1024px)" srcset="/vitrine-ml5/mlab5/cursos/xml/07/images/xslt_governamental_desktop.png">
    <source media="(min-width: 600px)" srcset="/vitrine-ml5/mlab5/cursos/xml/07/images/xslt_governamental_tablet.png">
    <img src="/vitrine-ml5/mlab5/cursos/xml/07/images/xslt_governamental_mobile.png">
  </picture>
</article>
</section>

<section class="container">
<article class="item">
  <h3>Estrutura B√°sica do XSLT</h3>
  <p>XSLT utiliza templates para transformar elementos XML, permitindo criar sa√≠das em HTML, PDF, texto ou outros formatos XML.</p>
  <h4>Elementos Principais:</h4>
  <ul class="left_list">
    <li>xsl:stylesheet - Elemento raiz</li>
    <li>xsl:template - Templates de transforma√ß√£o</li>
    <li>xsl:apply-templates - Aplica√ß√£o de templates</li>
    <li>xsl:value-of - Extra√ß√£o de valores</li>
    <li>xsl:for-each - Itera√ß√£o sobre elementos</li>
    <li>xsl:if/xsl:choose - Condicionais</li>
  </ul>
</article>

<article class="item">
  <h4>Exemplo B√°sico de XSLT:</h4>
  <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;

  &lt;xsl:template match="/"&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;Relat√≥rio de NFe&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;h1&gt;Nota Fiscal Eletr√¥nica&lt;/h1&gt;
        &lt;xsl:apply-templates select="//infNFe"/&gt;
      &lt;/body&gt;
    &lt;/html&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:template match="infNFe"&gt;
    &lt;div class="nfe"&gt;
      &lt;h2&gt;Dados da NFe&lt;/h2&gt;
      &lt;p&gt;&lt;strong&gt;N√∫mero:&lt;/strong&gt; &lt;xsl:value-of select="ide/nNF"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;S√©rie:&lt;/strong&gt; &lt;xsl:value-of select="ide/serie"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;Data Emiss√£o:&lt;/strong&gt; &lt;xsl:value-of select="ide/dhEmi"/&gt;&lt;/p&gt;
    &lt;/div&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code></pre>
</article>
</section>

<section class="container">
<article class="item">
  <h3>Transforma√ß√£o de NFe para HTML</h3>
  <p>Criar uma transforma√ß√£o XSLT para converter XML de NFe em HTML permite visualizar documentos fiscais de forma amig√°vel e profissional.</p>
  <h4>Elementos da NFe para Transformar:</h4>
  <ul class="left_list">
    <li>Dados do emitente e destinat√°rio</li>
    <li>Informa√ß√µes dos produtos</li>
    <li>C√°lculos de impostos</li>
    <li>Totais da nota</li>
    <li>Informa√ß√µes de transporte</li>
    <li>Dados de pagamento</li>
  </ul>
</article>

<article class="item">
  <h4>XSLT para NFe:</h4>
  <pre><code>&lt;xsl:template match="infNFe"&gt;
  &lt;div class="nfe-container"&gt;
    &lt;!-- Cabe√ßalho da NFe --&gt;
    &lt;div class="header"&gt;
      &lt;h1&gt;NOTA FISCAL ELETR√îNICA&lt;/h1&gt;
      &lt;div class="nfe-info"&gt;
        &lt;span&gt;N¬∫ &lt;xsl:value-of select="ide/nNF"/&gt;&lt;/span&gt;
        &lt;span&gt;S√©rie &lt;xsl:value-of select="ide/serie"/&gt;&lt;/span&gt;
        &lt;span&gt;&lt;xsl:value-of select="ide/dhEmi"/&gt;&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Emitente --&gt;
    &lt;div class="emitente"&gt;
      &lt;h3&gt;EMITENTE&lt;/h3&gt;
      &lt;p&gt;&lt;xsl:value-of select="emit/xNome"/&gt;&lt;/p&gt;
      &lt;p&gt;CNPJ: &lt;xsl:value-of select="emit/CNPJ"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;xsl:value-of select="emit/enderEmit/xLgr"/&gt;, &lt;xsl:value-of select="emit/enderEmit/nro"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;xsl:value-of select="emit/enderEmit/xMun"/&gt; - &lt;xsl:value-of select="emit/enderEmit/UF"/&gt;&lt;/p&gt;
    &lt;/div&gt;

    &lt;!-- Destinat√°rio --&gt;
    &lt;div class="destinatario"&gt;
      &lt;h3&gt;DESTINAT√ÅRIO&lt;/h3&gt;
      &lt;p&gt;&lt;xsl:value-of select="dest/xNome"/&gt;&lt;/p&gt;
      &lt;p&gt;CNPJ: &lt;xsl:value-of select="dest/CNPJ"/&gt;&lt;/p&gt;
    &lt;/div&gt;

    &lt;!-- Produtos --&gt;
    &lt;div class="produtos"&gt;
      &lt;h3&gt;PRODUTOS/SERVI√áOS&lt;/h3&gt;
      &lt;table&gt;
        &lt;thead&gt;
          &lt;tr&gt;
            &lt;th&gt;C√≥digo&lt;/th&gt;
            &lt;th&gt;Descri√ß√£o&lt;/th&gt;
            &lt;th&gt;Qtd&lt;/th&gt;
            &lt;th&gt;Vl. Unit.&lt;/th&gt;
            &lt;th&gt;Vl. Total&lt;/th&gt;
          &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
          &lt;xsl:for-each select="det"&gt;
            &lt;tr&gt;
              &lt;td&gt;&lt;xsl:value-of select="prod/cProd"/&gt;&lt;/td&gt;
              &lt;td&gt;&lt;xsl:value-of select="prod/xProd"/&gt;&lt;/td&gt;
              &lt;td&gt;&lt;xsl:value-of select="prod/qCom"/&gt;&lt;/td&gt;
              &lt;td&gt;&lt;xsl:value-of select="prod/vUnCom"/&gt;&lt;/td&gt;
              &lt;td&gt;&lt;xsl:value-of select="prod/vProd"/&gt;&lt;/td&gt;
            &lt;/tr&gt;
          &lt;/xsl:for-each&gt;
        &lt;/tbody&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    &lt;!-- Totais --&gt;
    &lt;div class="totais"&gt;
      &lt;h3&gt;TOTAIS&lt;/h3&gt;
      &lt;p&gt;Valor dos Produtos: R$ &lt;xsl:value-of select="total/ICMSTot/vProd"/&gt;&lt;/p&gt;
      &lt;p&gt;ICMS: R$ &lt;xsl:value-of select="total/ICMSTot/vICMS"/&gt;&lt;/p&gt;
      &lt;p&gt;PIS: R$ &lt;xsl:value-of select="total/ICMSTot/vPIS"/&gt;&lt;/p&gt;
      &lt;p&gt;COFINS: R$ &lt;xsl:value-of select="total/ICMSTot/vCOFINS"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;Valor Total: R$ &lt;xsl:value-of select="total/ICMSTot/vNF"/&gt;&lt;/strong&gt;&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/xsl:template&gt;</code></pre>

  <picture>
    <source media="(min-width: 1024px)" srcset="/vitrine-ml5/mlab5/cursos/xml/07/images/transformacao_nfe_desktop.png">
    <source media="(min-width: 600px)" srcset="/vitrine-ml5/mlab5/cursos/xml/07/images/transformacao_nfe_tablet.png">
    <img src="/vitrine-ml5/mlab5/cursos/xml/07/images/transformacao_nfe_mobile.png">
  </picture>
</article>
</section>

<section class="container">
<article class="item">
  <h3>Transforma√ß√£o de eSocial para Relat√≥rios</h3>
  <p>XSLT permite transformar dados do eSocial em relat√≥rios HTML, facilitando a visualiza√ß√£o de informa√ß√µes trabalhistas e previdenci√°rias.</p>
  <h4>Dados do eSocial para Relat√≥rios:</h4>
  <ul class="left_list">
    <li>Informa√ß√µes do trabalhador</li>
    <li>Dados contratuais</li>
    <li>Remunera√ß√µes</li>
    <li>Descontos e adicionais</li>
    <li>Informa√ß√µes previdenci√°rias</li>
    <li>Hist√≥rico de eventos</li>
  </ul>
</article>

<article class="item">
  <h4>XSLT para Relat√≥rio eSocial:</h4>
  <pre><code>&lt;xsl:template match="evtRemun"&gt;
  &lt;div class="relatorio-esocial"&gt;
    &lt;h2&gt;Relat√≥rio de Remunera√ß√£o - eSocial&lt;/h2&gt;
    
    &lt;!-- Dados do Evento --&gt;
    &lt;div class="evento-info"&gt;
      &lt;h3&gt;Informa√ß√µes do Evento&lt;/h3&gt;
      &lt;p&gt;&lt;strong&gt;Per√≠odo:&lt;/strong&gt; &lt;xsl:value-of select="ideEvento/perApur"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;Ambiente:&lt;/strong&gt; 
        &lt;xsl:choose&gt;
          &lt;xsl:when test="ideEvento/tpAmb = '1'"&gt;Produ√ß√£o&lt;/xsl:when&gt;
          &lt;xsl:otherwise&gt;Homologa√ß√£o&lt;/xsl:otherwise&gt;
        &lt;/xsl:choose&gt;
      &lt;/p&gt;
    &lt;/div&gt;

    &lt;!-- Dados do Empregador --&gt;
    &lt;div class="empregador"&gt;
      &lt;h3&gt;Empregador&lt;/h3&gt;
      &lt;p&gt;CNPJ: &lt;xsl:value-of select="ideEmpregador/nrInsc"/&gt;&lt;/p&gt;
    &lt;/div&gt;

    &lt;!-- Dados do Trabalhador --&gt;
    &lt;div class="trabalhador"&gt;
      &lt;h3&gt;Trabalhador&lt;/h3&gt;
      &lt;p&gt;CPF: &lt;xsl:value-of select="ideTrabalhador/cpfTrab"/&gt;&lt;/p&gt;
      &lt;p&gt;NIS: &lt;xsl:value-of select="ideTrabalhador/niTrab"/&gt;&lt;/p&gt;
    &lt;/div&gt;

    &lt;!-- Demonstrativos de Valores --&gt;
    &lt;div class="demonstrativos"&gt;
      &lt;h3&gt;Demonstrativos de Valores&lt;/h3&gt;
      &lt;xsl:for-each select="dmDev"&gt;
        &lt;div class="dm-dev"&gt;
          &lt;h4&gt;Demonstrativo: &lt;xsl:value-of select="ideDmDev"/&gt;&lt;/h4&gt;
          &lt;table&gt;
            &lt;thead&gt;
              &lt;tr&gt;
                &lt;th&gt;C√≥digo&lt;/th&gt;
                &lt;th&gt;Descri√ß√£o&lt;/th&gt;
                &lt;th&gt;Valor&lt;/th&gt;
              &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody&gt;
              &lt;xsl:for-each select="infoPerApur/ideEstabLot/remunPerApur/detRubrica"&gt;
                &lt;tr&gt;
                  &lt;td&gt;&lt;xsl:value-of select="codRubr"/&gt;&lt;/td&gt;
                  &lt;td&gt;&lt;xsl:value-of select="ideTabRubr/dscRubr"/&gt;&lt;/td&gt;
                  &lt;td&gt;R$ &lt;xsl:value-of select="vrRubr"/&gt;&lt;/td&gt;
                &lt;/tr&gt;
              &lt;/xsl:for-each&gt;
            &lt;/tbody&gt;
          &lt;/table&gt;
          &lt;p&gt;&lt;strong&gt;Valor L√≠quido: R$ &lt;xsl:value-of select="vrLiq"/&gt;&lt;/strong&gt;&lt;/p&gt;
        &lt;/div&gt;
      &lt;/xsl:for-each&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/xsl:template&gt;</code></pre>
</article>
</section>

<section class="container">
<article class="item">
  <h3>Transforma√ß√£o de SPED para HTML</h3>
  <p>O SPED pode ser transformado em relat√≥rios HTML leg√≠veis, facilitando a an√°lise de dados cont√°beis e fiscais.</p>
  <h4>Registros SPED para Transformar:</h4>
  <ul class="left_list">
    <li>Registro 0000 - Abertura do arquivo</li>
    <li>Registro 0005 - Dados complementares</li>
    <li>Registro 0100 - Dados do contabilista</li>
    <li>Registros de escritura√ß√£o</li>
    <li>Registros de totais</li>
    <li>Registro 9999 - Encerramento</li>
  </ul>
</article>

<article class="item">
  <h4>XSLT para SPED:</h4>
  <pre><code>&lt;xsl:template match="REG0000"&gt;
  &lt;div class="sped-header"&gt;
    &lt;h2&gt;SPED Fiscal - Escritura√ß√£o Fiscal Digital&lt;/h2&gt;
    &lt;div class="info-arquivo"&gt;
      &lt;p&gt;&lt;strong&gt;Vers√£o:&lt;/strong&gt; &lt;xsl:value-of select="COD_VER"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;Per√≠odo:&lt;/strong&gt; &lt;xsl:value-of select="DT_INI"/&gt; a &lt;xsl:value-of select="DT_FIN"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;Empresa:&lt;/strong&gt; &lt;xsl:value-of select="NOME"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;CNPJ:&lt;/strong&gt; &lt;xsl:value-of select="CNPJ"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;UF:&lt;/strong&gt; &lt;xsl:value-of select="UF"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;Munic√≠pio:&lt;/strong&gt; &lt;xsl:value-of select="COD_MUN"/&gt;&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/xsl:template&gt;

&lt;xsl:template match="REG0005"&gt;
  &lt;div class="dados-complementares"&gt;
    &lt;h3&gt;Dados Complementares&lt;/h3&gt;
    &lt;p&gt;&lt;strong&gt;Nome Fantasia:&lt;/strong&gt; &lt;xsl:value-of select="FANTASIA"/&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;CEP:&lt;/strong&gt; &lt;xsl:value-of select="CEP"/&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Endere√ßo:&lt;/strong&gt; &lt;xsl:value-of select="END"/&gt;, &lt;xsl:value-of select="NUM"/&gt;&lt;/p&gt;
    &lt;xsl:if test="COMPL"&gt;
      &lt;p&gt;&lt;strong&gt;Complemento:&lt;/strong&gt; &lt;xsl:value-of select="COMPL"/&gt;&lt;/p&gt;
    &lt;/xsl:if&gt;
    &lt;p&gt;&lt;strong&gt;Bairro:&lt;/strong&gt; &lt;xsl:value-of select="BAIRRO"/&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Telefone:&lt;/strong&gt; &lt;xsl:value-of select="FONE"/&gt;&lt;/p&gt;
    &lt;xsl:if test="EMAIL"&gt;
      &lt;p&gt;&lt;strong&gt;Email:&lt;/strong&gt; &lt;xsl:value-of select="EMAIL"/&gt;&lt;/p&gt;
    &lt;/xsl:if&gt;
  &lt;/div&gt;
&lt;/xsl:template&gt;</code></pre>

  <picture>
    <source media="(min-width: 1024px)" srcset="/vitrine-ml5/mlab5/cursos/xml/07/images/transformacao_sped_desktop.png">
    <source media="(min-width: 600px)" srcset="/vitrine-ml5/mlab5/cursos/xml/07/images/transformacao_sped_tablet.png">
    <img src="/vitrine-ml5/mlab5/cursos/xml/07/images/transformacao_sped_mobile.png">
  </picture>
</article>
</section>

<section class="container">
<article class="item">
  <h3>Transforma√ß√£o de TISS para Relat√≥rios M√©dicos</h3>
  <p>XSLT permite transformar dados do TISS em relat√≥rios m√©dicos detalhados, facilitando a an√°lise de procedimentos e custos em sa√∫de.</p>
  <h4>Elementos TISS para Relat√≥rios:</h4>
  <ul class="left_list">
    <li>Dados do prestador</li>
    <li>Informa√ß√µes do benefici√°rio</li>
    <li>Procedimentos realizados</li>
    <li>Diagn√≥sticos (CID-10)</li>
    <li>Valores e autoriza√ß√µes</li>
    <li>Profissionais envolvidos</li>
  </ul>
</article>

<article class="item">
  <h4>XSLT para Relat√≥rio TISS:</h4>
  <pre><code>&lt;xsl:template match="guiaConsulta"&gt;
  &lt;div class="relatorio-tiss"&gt;
    &lt;h2&gt;Relat√≥rio M√©dico - TISS&lt;/h2&gt;
    
    &lt;!-- Dados do Prestador --&gt;
    &lt;div class="prestador"&gt;
      &lt;h3&gt;Prestador de Servi√ßos&lt;/h3&gt;
      &lt;p&gt;&lt;strong&gt;Nome:&lt;/strong&gt; &lt;xsl:value-of select="dadosBeneficiario/contratado/nomeContratado"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;CNPJ:&lt;/strong&gt; &lt;xsl:value-of select="dadosBeneficiario/contratado/cnpjContratado"/&gt;&lt;/p&gt;
    &lt;/div&gt;

    &lt;!-- Dados do Benefici√°rio --&gt;
    &lt;div class="beneficiario"&gt;
      &lt;h3&gt;Benefici√°rio&lt;/h3&gt;
      &lt;p&gt;&lt;strong&gt;Nome:&lt;/strong&gt; &lt;xsl:value-of select="dadosBeneficiario/beneficiario/nomeBeneficiario"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;CPF:&lt;/strong&gt; &lt;xsl:value-of select="dadosBeneficiario/beneficiario/identificadorBeneficiario/cpf"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;Data Nascimento:&lt;/strong&gt; &lt;xsl:value-of select="dadosBeneficiario/beneficiario/dataNascimento"/&gt;&lt;/p&gt;
      &lt;p&gt;&lt;strong&gt;Sexo:&lt;/strong&gt; 
        &lt;xsl:choose&gt;
          &lt;xsl:when test="dadosBeneficiario/beneficiario/sexo = 'M'"&gt;Masculino&lt;/xsl:when&gt;
          &lt;xsl:otherwise&gt;Feminino&lt;/xsl:otherwise&gt;
        &lt;/xsl:choose&gt;
      &lt;/p&gt;
    &lt;/div&gt;

    &lt;!-- Procedimentos --&gt;
    &lt;div class="procedimentos"&gt;
      &lt;h3&gt;Procedimentos Realizados&lt;/h3&gt;
      &lt;table&gt;
        &lt;thead&gt;
          &lt;tr&gt;
            &lt;th&gt;C√≥digo&lt;/th&gt;
            &lt;th&gt;Descri√ß√£o&lt;/th&gt;
            &lt;th&gt;Quantidade&lt;/th&gt;
            &lt;th&gt;Valor Unit.&lt;/th&gt;
            &lt;th&gt;Valor Total&lt;/th&gt;
          &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
          &lt;xsl:for-each select="procedimentosRealizados/procedimentoRealizado"&gt;
            &lt;tr&gt;
              &lt;td&gt;&lt;xsl:value-of select="codigoProcedimento"/&gt;&lt;/td&gt;
              &lt;td&gt;&lt;xsl:value-of select="descricaoProcedimento"/&gt;&lt;/td&gt;
              &lt;td&gt;&lt;xsl:value-of select="quantidadeExecutada"/&gt;&lt;/td&gt;
              &lt;td&gt;R$ &lt;xsl:value-of select="valorUnitario"/&gt;&lt;/td&gt;
              &lt;td&gt;R$ &lt;xsl:value-of select="valorTotalProcedimento"/&gt;&lt;/td&gt;
            &lt;/tr&gt;
          &lt;/xsl:for-each&gt;
        &lt;/tbody&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    &lt;!-- Diagn√≥sticos --&gt;
    &lt;xsl:if test="diagnosticos/diagnostico"&gt;
      &lt;div class="diagnosticos"&gt;
        &lt;h3&gt;Diagn√≥sticos (CID-10)&lt;/h3&gt;
        &lt;xsl:for-each select="diagnosticos/diagnostico"&gt;
          &lt;p&gt;
            &lt;strong&gt;&lt;xsl:value-of select="codigoDiagnostico"/&gt;&lt;/strong&gt; - 
            &lt;xsl:value-of select="descricaoDiagnostico"/&gt;
            &lt;xsl:choose&gt;
              &lt;xsl:when test="tipoDiagnostico = '1'"&gt; (Principal)&lt;/xsl:when&gt;
              &lt;xsl:otherwise&gt; (Secund√°rio)&lt;/xsl:otherwise&gt;
            &lt;/xsl:choose&gt;
          &lt;/p&gt;
        &lt;/xsl:for-each&gt;
      &lt;/div&gt;
    &lt;/xsl:if&gt;
  &lt;/div&gt;
&lt;/xsl:template&gt;</code></pre>
</article>
</section>

<section class="container">
<article class="item">
  <h3>Integra√ß√£o com Sistemas e APIs</h3>
  <p>XSLT pode ser integrado com sistemas empresariais para automatizar transforma√ß√µes de dados governamentais, facilitando a gera√ß√£o de relat√≥rios e integra√ß√£o entre sistemas.</p>
  <h4>Aplica√ß√µes de Integra√ß√£o:</h4>
  <ul class="left_list">
    <li>APIs REST para transforma√ß√£o</li>
    <li>Processamento em lote</li>
    <li>Integra√ß√£o com ERPs</li>
    <li>Gera√ß√£o autom√°tica de relat√≥rios</li>
    <li>Transforma√ß√£o em tempo real</li>
    <li>Cache de transforma√ß√µes</li>
  </ul>
</article>

<article class="item">
  <h4>Exemplo de Integra√ß√£o:</h4>
  <pre><code>&lt;!-- JavaScript para transforma√ß√£o --&gt;
function transformarXML(xmlString, xsltString) {
  const parser = new DOMParser();
  const xmlDoc = parser.parseFromString(xmlString, "text/xml");
  const xsltDoc = parser.parseFromString(xsltString, "text/xml");
  
  const processor = new XSLTProcessor();
  processor.importStylesheet(xsltDoc);
  
  const result = processor.transformToDocument(xmlDoc);
  return new XMLSerializer().serializeToString(result);
}

// Transforma√ß√£o de NFe
function gerarRelatorioNFe(xmlNFe) {
  const xsltNFe = `
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;
      &lt;xsl:template match="/"&gt;
        &lt;html&gt;
          &lt;head&gt;
            &lt;title&gt;NFe - &lt;xsl:value-of select="//nNF"/&gt;&lt;/title&gt;
            &lt;style&gt;
              .nfe { font-family: Arial, sans-serif; }
              .header { background: #f0f0f0; padding: 10px; }
              .section { margin: 20px 0; }
              table { width: 100%; border-collapse: collapse; }
              th, td { border: 1px solid #ddd; padding: 8px; }
              th { background: #f2f2f2; }
            &lt;/style&gt;
          &lt;/head&gt;
          &lt;body&gt;
            &lt;xsl:apply-templates select="//infNFe"/&gt;
          &lt;/body&gt;
        &lt;/html&gt;
      &lt;/xsl:template&gt;
      &lt;!-- Templates espec√≠ficos aqui --&gt;
    &lt;/xsl:stylesheet&gt;
  `;
  
  return transformarXML(xmlNFe, xsltNFe);
}

// Uso da transforma√ß√£o
const xmlNFe = '&lt;!-- XML da NFe --&gt;';
const htmlRelatorio = gerarRelatorioNFe(xmlNFe);
document.getElementById('relatorio').innerHTML = htmlRelatorio;</code></pre>

  <picture>
    <source media="(min-width: 1024px)" srcset="/vitrine-ml5/mlab5/cursos/xml/07/images/integracao_sistemas_desktop.png">
    <source media="(min-width: 600px)" srcset="/vitrine-ml5/mlab5/cursos/xml/07/images/integracao_sistemas_tablet.png">
    <img src="/vitrine-ml5/mlab5/cursos/xml/07/images/integracao_sistemas_mobile.png">
  </picture>
</article>
</section>

<span id="exercicio">
<p>Crie transforma√ß√µes XSLT para dados governamentais com:<p>
  <ul>
  <li>T√≠tulo = Transforma√ß√µes XSLT para Documentos Governamentais<br></li>
  <li>NFe = Transforma√ß√£o para HTML com CSS responsivo<br></li>
  <li>eSocial = Relat√≥rio de remunera√ß√£o em HTML<br></li>
  <li>SPED = Relat√≥rio de escritura√ß√£o fiscal<br></li>
  <li>TISS = Relat√≥rio m√©dico com procedimentos<br></li>
  <li>Integra√ß√£o = JavaScript para transforma√ß√£o autom√°tica<br></li>
</ul>
</p>Implemente templates reutiliz√°veis e estilos CSS para apresenta√ß√£o profissional.</p>
</span>

  <form id="controles">
    <fieldset>
      <legend>Controles</legend>
    <h4>Escolha um template</h4>
    <select id="templateSelect">
      <option value="/vitrine-ml5/mlab5/templates/classico.html">Classico</option>
      <option value="/vitrine-ml5/mlab5/templates/moderno.html">Moderno</option>
      <option value="/vitrine-ml5/mlab5/templates/dark_mode.html">Dark Mode3</option>
    </select>

    <h4>Personalize</h4>
    <label>Cor de fundo: <input type="color" id="bgColor" value="#ffffff"></label><br>
    <label>Cor do texto: <input type="color" id="textColor" value="#000000"></label><br><br>

    <label>Fonte:
      <select id="fontFamily">
        <option value="Arial, sans-serif">Arial</option>
        <option value="Georgia, serif">Georgia</option>
        <option value="'Courier New', monospace">Courier New</option>
      </select><br>
    </label><br><br>
    </fieldset><br>
    <button onclick="salvarCustomizacao()">Salvar e Visualizar</button>
  </form>

<section class="container">
<article class="item">
    <a href="/vitrine-ml5/mlab5/playground" id="download-button" class="btn-large waves-effect waves-light teal lighten-1" >Playground</a>
</article>
</section>

</main>

<div id="footer-placeholder"></div>

<script>
  async function loadComponent(placeholderId, url) {
    try {
      const response = await fetch(url);
      if (!response.ok) throw new Error(`Erro ao carregar ${url}`);
      const html = await response.text();
      document.getElementById(placeholderId).innerHTML = html;
    } catch (error) {
      console.error(error);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadComponent('header-placeholder', '/vitrine-ml5/mlab5/js/ui/components/header.html')
      .then(() => {
        const script = document.createElement('script');
        script.src = '/vitrine-ml5/mlab5/js/ui/components/navbar.js';
        document.body.appendChild(script);
      })
      .catch(error => {
        console.error("Erro ao carregar o header:", error);
      });

    loadComponent('footer-placeholder', '/vitrine-ml5/mlab5/js/ui/components/footer.html');
  });

  document.addEventListener('DOMContentLoaded', () => {
    const exercicio = document.getElementById('exercicio')?.innerText || "";
    const playgroundLink = document.querySelector('a[href="/vitrine-ml5/mlab5/playground"]'); 

    if (playgroundLink) {
      playgroundLink.addEventListener('click', (event) => {
        event.preventDefault();

        // Salva o texto das instru√ß√µes
        localStorage.setItem('instrucoes', exercicio);

        // Salva o HTML do formul√°rio inteiro
        const controles = document.getElementById('controles');
        localStorage.setItem('ajustes', controles.outerHTML);

        // Redireciona para o playground
        window.location.href = playgroundLink.href;
      });
    }
  });
</script>

</body>
</html>
