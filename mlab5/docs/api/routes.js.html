<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: routes.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: routes.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// mlab5/src/js/routes.js
import { courseRepository } from './repositories/CourseRepository.js';
import { renderHomeView } from './views/HomeView.js';
import { renderCourseView } from './views/CourseView.js';
import { renderLessonCreatorView } from './views/LessonCreatorView.js';
import { renderPlaygroundView } from './views/PlaygroundView.js';
import { renderLousaView } from './views/LousaView.js';
import { renderAdmView } from './views/AdmView.js';

/**
 * Gerencia a visibilidade e o comportamento do botão do playground no rodapé.
 * @param {Lesson|null} lesson - O objeto da lição atual, ou null para ocultar o botão.
 */
function managePlaygroundButton(lesson) {
    const playgroundButton = document.getElementById('playground-button');
    if (!playgroundButton) return;

    const lessonData = lesson ? lesson.content.course : null;

    if (lessonData &amp;&amp; lessonData.playground &amp;&amp; lessonData.playground.url) {
        playgroundButton.style.display = 'block';
        playgroundButton.onclick = () => {
            window.location.hash = lessonData.playground.url;
        };
    } else {
        playgroundButton.style.display = 'none';
        playgroundButton.onclick = null;
    }
}

// Em mlab5/src/js/routes.js
export function defineRoutes(router) {
    // Handler para a Home Page (lista de cursos)
    router.addRoute('home', '/', async () => {
        managePlaygroundButton(null);
        return renderHomeView(router);
    });

    // Handler para a página de detalhes do curso
    router.addRoute('courseDetail', '/course/:courseId', async (params) => {
        const { courseId } = params;
        managePlaygroundButton(null);
        const course = await courseRepository.getCourseById(courseId);
        if (course) {
            return renderCourseView(course, router);
        }
        const notFoundView = document.createElement('div');
        notFoundView.innerHTML = '&lt;h2>Curso não encontrado&lt;/h2>';
        return notFoundView;
    });

    // Handler para a página de detalhes da aula
    router.addRoute('lessonDetail', '/course/:courseId/lesson/:lessonId', async (params) => {
        const { courseId, lessonId } = params;
        const lesson = await courseRepository.getLessonById(courseId, lessonId);
        if (lesson) {
            managePlaygroundButton(lesson);
            return lesson.render(); // Usa o método render da classe Lesson
        }
        managePlaygroundButton(null);
        const notFoundView = document.createElement('div');
        notFoundView.innerHTML = '&lt;h2>Aula não encontrada&lt;/h2>';
        return notFoundView;
    });

    // Handler para o Criador de Aulas
    router.addRoute('lessonCreator', '/creator', () => {
        managePlaygroundButton(null);
        return renderLessonCreatorView();
    });

    // Handler para o Playground
    router.addRoute('playground', '/course/:courseId/lesson/:lessonId/playground', async (params) => {
        const { courseId, lessonId } = params;
        managePlaygroundButton(null);
        return renderPlaygroundView(courseId, lessonId);
    });

    // Handler para a Lousa
    router.addRoute('lousa', '/lousa', async () => {
        managePlaygroundButton(null);
        return renderLousaView();
    });

    // Handler para a área administrativa
    router.addRoute('adm', '/adm', async (params) => {
        managePlaygroundButton(null);
        return await renderAdmView(router);
    });

    router.addRoute('adm-cadastro-aulas', '/adm/cadastro-aulas', async (params) => {
        managePlaygroundButton(null);
        return await renderAdmView(router);
    });
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ApiService.html">ApiService</a></li><li><a href="Course.html">Course</a></li><li><a href="CourseRepository.html">CourseRepository</a></li><li><a href="DebugView.html">DebugView</a></li><li><a href="EventBus.html">EventBus</a></li><li><a href="Lesson.html">Lesson</a></li><li><a href="PlaygroundComponent.html">PlaygroundComponent</a></li></ul><h3>Global</h3><ul><li><a href="global.html#bannerConfig">bannerConfig</a></li><li><a href="global.html#capitalizeFirstLetter">capitalizeFirstLetter</a></li><li><a href="global.html#managePlaygroundButton">managePlaygroundButton</a></li><li><a href="global.html#renderHomeView">renderHomeView</a></li><li><a href="global.html#renderLessonCreatorView">renderLessonCreatorView</a></li><li><a href="global.html#renderPlaygroundView">renderPlaygroundView</a></li><li><a href="global.html#reverseString">reverseString</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
